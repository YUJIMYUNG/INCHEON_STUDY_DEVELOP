# Entity

> **Entity란 ?** 
데이터베이스 테이블과 1:1로 매핑(연결) 되는 인스턴스(객체)
관점: 테이블 → 클래스, 레코드 → 엔티티(인스턴스)
즉) 클래스 1개당 테이블 1개, 인스턴스 1개당 레코드 1개

클래스를 만들고 엔티티를 설정하면 DB의 테이블을 생성한다는 의미와 같다.
같은 의미로 클래스로 인스턴스 생성하면 DB의 테이블 레코드를 생성한다.
> 

> 참고)
클래스 : 인스턴스를 만들기 위한 객체 설계도
인스턴스 : 클래스 기반으로 생성된 실체물
> 

## Entity를 정의하는 방법

- `@Entity` 어노테이션 추가
- 관례적으로 테이블 하나당 pk(식별자) 필드는 1개 이상어야 한다.
- `@Id`  : 해당하는 필드/ 멤버변수를 primary key 로 정의한다.
- `@Column` : 해당하는 필드/멤버변수를 테이블 열(속성/필드) 로 정의한다.

## Entity와 테이블을 어떻게 처리할지 설정 옵션

- application.properties에 작성
    - `create` :  서버가 실행 될때마다 기존 테이블 삭제하고 새로운 테이블로 생성한다.
    - `update` :  서버가 실행 될때마다 기존 테이블을 유지하고 변경할 사항이 있을경우 자동 업데이트/생성 한다.
    - `none` : 개발자가 직접 수동 관리한다.(기본값)
    - `create`-drop : 서버가 종료될때 마다 테이블이 삭제된다.
    - `validate` : 서버가 실행 될때마다 엔티티와 데이터베이스 이맃 여부 확인, 수정/생성 하지 않는다.
    - 사용예 ) `spring.jpa.hibernate.ddl-auto = create`

## Entity를 조작할 인터페이스 정의

1. `@Repository` : 스프링 메모리에 객체를 생성하고 MVC패턴의 Repository 담당을 표시한다.
2. `extends JpaRepository<조작할 엔티티클래스명, PK필드의 자바타입>`