# AOP

> 핵심 로직과 공통(부가)기능을 분리하는 프로그래밍 기법
> 

## 목적

1. 여러 메소드에서 중복되는 코드들을 공통 기능으로 분리하여 필요할 때 자동으로 실행하는 방식
2. 핵심 로직은 깔끔하게 유지하고 공통 기능은 한곳에 관리하여 유지보수 용이

## 주요 공통 기능

1. 로그처리 : `@Slf4j`
2. 트랜잭션 : `@Transactional`
3. 보안검사 등 : Spring Security

## 사용법

1. AOP를 구현하기 위해 클래스 위에 
`@Aspect` : 지정한 클래스는 AOP 설정하는 클래스임을 뜻함
`@Component` : 스프링 컨테이너 빈 등록
2. 모듈 함수 위에
`@Before` : 메소드가 실행하기 전에 부가기능 실행 (매개변수 검사, 로그, 보안 등)
`@After` : 메소드가 실행 후 부가기능 실행 (로그, 외부스트림연결/해제 등)
`@AfterThrowing` : 메소드가 실행 중 예외가 발생시 부가기능 실행 (로그, 트랜잭션 등)
`@AfterReturning` : 메소드가 정상적으로 실행된 후 주가기능 실행 (로그, 캐시/기록 등)
`@Around` : 메소드가 실행 전후를 모두 감싸서 부가기능 실행 (성능평가, 모니터링, 트랜잭션 등)
3. 모듈 함수에 함수 지정하기
    1. `@모듈함수(execution 문법)`
    2. execution 문법 
    - execution( * ) : 지정한 함수의 리턴 타입을 의미 (* 와일드 카드, 모든 타입 뜻)
    - execution( * 클래스명.*) : 지정한 클래스내 모든 메서드를 지정
    - execution( *클래스명.*(..)) : 지정한 메소드들의 매개변수 타입, (..), 모든 타입 매개변수 뜻